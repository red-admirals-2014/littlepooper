<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>Phaser - Test</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>
<h1>Hello!</h1>
<script type="text/javascript">

var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });

function preload() {
    game.load.spritesheet('egg', 'images/egg_break.png', 118
    , 130, 6);
    game.load.spritesheet('graymonster', 'images/graymonster.png', 131, 140, 12)
}

var button;

function create() {
    egg = game.add.sprite(0,0,'egg')
    egg.inputEnabled=true
    egg.input.useHandCursor=true
    egg.events.onInputDown.add(eggbreak)
    graymonster = game.add.sprite(150, 0, 'graymonster')
    graymonster.animations.add('fly',[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], 6, false)
}


function update() {
    graymonster.animations.play('fly')
}

var counter = 0
function eggbreak(event) {
    if (counter < 20) {
        egg.animations.add('break',[counter, counter+1],6,false)
        if (game.input.activePointer.isDown) {
            egg.animations.play('break')
            counter++
        }
    }
    else {
      //load game
    }
}


// 1st parameter determines the distance of the active pointer. My swipe distance trashhold is 150, you can play around with this value
// in order to get a better feeling.
// So basicly what you do is look for a certain distance (150) in a given time frame (min 100ms till 250ms).

// function onSwipe() {
//   return (Phaser.Point.distance(game.input.activePointer.position, game.input.activePointer.positionDown) > 150 && game.input.activePointer.duration > 100 && game.input.activePointer.duration < 250);
// }





</script>

</body>
</html>