<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>Phaser - Test</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>
<h1>Hello!</h1>
<script type="text/javascript">

var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });

function preload() {

    game.load.spritesheet('dragon', 'images/updated_dragon_sprites.png', 100 , 100, 8);
    game.load.spritesheet('dragon1', 'images/dragon_sprites_eating.png', 110, 100, 3);
    game.load.spritesheet('dragon2', 'images/dragon_sprites_rolling.png', 110, 100, 4);

    game.load.spritesheet('egg', 'images/egg_break.png', 118
    , 130, 6);
    game.load.spritesheet('graymonster', 'images/graymonster.png', 131, 140, 12)
}

var button;

function create() {
<<<<<<< HEAD
    egg = game.add.sprite(0,0,'egg')
=======

    dragon = game.add.sprite(0,0,'dragon')
    dragon1 = game.add.sprite(200,200,'dragon1')
    dragon2 = game.add.sprite(300,300,'dragon2')
    egg = game.add.sprite(400,400,'egg')

    dragon.animations.add('blink',[0,1,2,3,4,5,6,7],6,true);
    dragon1.animations.add('eat',[0,1,2],6,true);
    dragon2.animations.add('roll',[0,1,2,3],6,true);

>>>>>>> 70185acb675ec9a33e0250837fa751bb7fffcbd8
    egg.inputEnabled=true
    egg.input.useHandCursor=true
    egg.events.onInputDown.add(eggbreak)
    graymonster = game.add.sprite(150, 0, 'graymonster')
    graymonster.animations.add('fly',[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], 6, false)
}


function update() {
<<<<<<< HEAD
    graymonster.animations.play('fly')
=======

    if (game.input.activePointer.isUp) {
        dragon.animations.play('blink');
        dragon1.animations.play('eat');
        dragon2.animations.play('roll');
    }
>>>>>>> 70185acb675ec9a33e0250837fa751bb7fffcbd8
}

var counter = 0
function eggbreak(event) {
    if (counter < 20) {
        egg.animations.add('break',[counter, counter+1],6,false)
        if (game.input.activePointer.isDown) {
            egg.animations.play('break')
            counter++
        }
    }
    else {
      //load game
    }
}

var counter = 0

function eggbreak(event) {
    if (counter < 6) {
        egg.animations.add('break',[counter, counter+1],6,false)
        if (game.input.activePointer.isDown) {
            egg.animations.play('break')
            counter++
        }
    }
    else {
      //load game

    }
}


// 1st parameter determines the distance of the active pointer. My swipe distance trashhold is 150, you can play around with this value
// in order to get a better feeling.
// So basicly what you do is look for a certain distance (150) in a given time frame (min 100ms till 250ms).

// function onSwipe() {
//   return (Phaser.Point.distance(game.input.activePointer.position, game.input.activePointer.positionDown) > 150 && game.input.activePointer.duration > 100 && game.input.activePointer.duration < 250);
// }





// 1st parameter determines the distance of the active pointer. My swipe distance trashhold is 150, you can play around with this value
// in order to get a better feeling.
// So basicly what you do is look for a certain distance (150) in a given time frame (min 100ms till 250ms).

// function onSwipe() {
//   return (Phaser.Point.distance(game.input.activePointer.position, game.input.activePointer.positionDown) > 150 && game.input.activePointer.duration > 100 && game.input.activePointer.duration < 250);
// }





</script>

</body>
</html>